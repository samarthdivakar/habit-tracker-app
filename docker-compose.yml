
version: '3.8'



services:

  frontend:

    build:

      context: ./frontend

      dockerfile: Dockerfile

    ports:

      - "3000:3000"

    volumes:

      - ./frontend:/app

      - /app/node_modules

    environment:

      - NODE_ENV=development

    depends_on:

      - backend



  backend:

    build:

      context: ./backend

      dockerfile: Dockerfile

    ports:

      - "3001:3001"

    volumes:

      - ./backend:/app

      - /app/node_modules

    environment:

      - NODE_ENV=development

      - DATABASE_URL=postgresql://postgres:postgres@postgres:5432/habittracker

    depends_on:

      - postgres



  postgres:

    image: postgres:15-alpine

    environment:

      POSTGRES_USER: postgres

      POSTGRES_PASSWORD: postgres

      POSTGRES_DB: habittracker

    ports:

      - "5432:5432"

    volumes:

      - postgres_data:/var/lib/postgresql/data



volumes:

  postgres_data:

